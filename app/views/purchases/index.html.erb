<div class="container" style="padding-top:4.5rem;">
  <div class="mx-auto p-4  border border-info rounded" style="border:solid 1px; max-width:80rem;">
    <h2>個数を選択してください</h2><br/>
    <p><%= @product.title %></p>
    <p>¥<%= @product.price %></p>

    <hr>
    <br>
    <h3>お支払い方法</h3>
    <br>
    <% if @default_card_information.blank? %>
      <br/>
    <% else %>
      <% #以下カード情報を表示 %>
      <%= "**** **** **** " + @default_card_information.last4 %>
      <% exp_month = @default_card_information.exp_month.to_s %>
      <% exp_year = @default_card_information.exp_year.to_s.slice(2,3) %>
      <%= exp_month + " / " + exp_year %>
    <% end %>
    <br>
    <%= form_tag(action: :pay, method: :post) do %>
      <button class="btn btn-info mb-1">購入する</button>
    <% end %>
  </div>
</div>




<!-- <script type="text/javascript">
$(function(){
  var value = <%= @product.price %> // 1在庫あたりの価格
  var maxNum = <%= @product.quantity %>; // 注文できる個数の上限
  var tagInput = $('#num'); // 入力対象のinputタグID名
  var tagOutput = $('#total'); // 出力対象のinputタグID名
  tagInput.on('change', function() {
    var str = $(this).val();
    var num = Number(str.replace(/[^0-9]/g, '')); // 整数以外の文字列を削除
    if(num == 0) {
      num = '';
    } else if (num > maxNum) { // 上限を超える個数を入力した場合
      num = maxNum;
    }
    $(this).val(num);
    if(num != 0) {
      var price = num * value;
      tagOutput.val(price);
    }
  });
});
</script>
<br>
<input type="submit" class="btn btn-info mb-1" value="購入する"><br/> -->
